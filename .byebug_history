c
n
current_user
params[:asker]
params
c
Borrowing.where(owner_id: current_user.id, request_status: 'pending').includes(:book)
Borrowing.where(owner_id: current_user.id, request_status: 'pending')
Borrowing.where(owner_id: current_user.id, request_status: 'pending').includes(:book
Borrowing.where(owner_id: current_user.id, request_status: 'pending').includes(:book).includes(:borrower)
params[:asker]
params
c
userId
c
@book_array
@books
c
@books.first
@books
c
Book.where(owner_id: 2).join(borrowings)
Book.where(owner_id: 2)
b = Book.select(books.*).where(books.owner_id = userId)
b = Book.select(book.*).where(books.owner_id = userId)
b = Book.select(*).where(books.owner_id = userId)
b = Book.select(*).where(ownerId = userId)
b.first
b = Book.select('books.*').joins(:borrowing).where('books.owner_id = ? AND books.id NOT IN borrowing',2)
b.first
b = Book.select('books.*').joins(:borrowing).where('books.owner_id = ? AND books.id NOT IN borrowings',2)
b = Book.select('books.*').joins(:borrowing).where('books.owner_id = ?', 2)
b.first
b = Book.select('book.*').joins(:borrowing).where('books.owner_id = ?', 2)
b.first
b = Book.select('book.*').joins(:borrowings).where('books.owner_id = ?', 2)
Book.select('book.*').joins(:borrowings).where('books.owner_id = ?', 2)
Book.select('book.title').joins(:borrowings).where('books.owner_id = ?', 2)
Book.select(*).joins(:borrowings).where('books.owner_id = ?', 2)
Book.select(*).joins(:borrowings).where('books.owner_id = ?' 2)
Book.where(owner_id: userId)
userId
owner_id
@books = Book.where(owner_id: userId && 'owner_id NOT IN (SELECT owner_id FROM borrowings)')
c
userId
@books
c
clear
c
params[:user]
params
quit
params[:user][:password]
params[:user]
params
quit
QUIT
@borrowing = Borrowing.create(borrow_params)
borrow_params
quit
@borrowing.save
quit
@borrowing.save
@borrowing.create
@borrowing
params
borrow_params
params[:book_id]
params[:owner_id]
params
borrow_params
@borrowing
quit
n
@book
self
n
Book.find(params[:id])
params[:id]
params
exit
Book.find(params[:id])
params
quit
params
quit
params[:user]
params[user]
params
exit
params[:user]
params
